<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Experience - Admin</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="admin-page">
    <div class="admin-container">
        <%- include('../partials/admin-sidebar') %>
        
        <div class="admin-content">
            <h2 class="section-title">Manage Experience</h2>

            <!-- Add Experience Form -->
            <div class="admin-card">
                <h3>Add New Experience</h3>
                <form action="/admin/experience" method="POST">
                    <div class="form-group">
                        <label>Company</label>
                        <input type="text" name="company" required>
                    </div>
                    <div class="form-group">
                        <label>Role</label>
                        <input type="text" name="role" required>
                    </div>
                    <div class="form-group">
                        <label>Start Date</label>
                        <input type="date" name="startDate" required>
                    </div>
                    <div class="form-group">
                        <label>End Date</label>
                        <input type="date" name="endDate">
                        <small>Leave blank if currently working</small>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea name="description" rows="3" required></textarea>
                    </div>
                    <button type="submit" class="btn">Add Experience</button>
                </form>
            </div>

            <!-- Experience List -->
            <div class="grid">
                <% experiences.forEach(exp => { %>
                    <div class="admin-card">
                        <h4><%= exp.role %> at <%= exp.company %></h4>
                        <p>
                            <%= new Date(exp.startDate).toLocaleDateString() %> - 
                            <%= exp.endDate ? new Date(exp.endDate).toLocaleDateString() : 'Present' %>
                        </p>
                        <p><%= exp.description %></p>
                        <form action="/admin/experience/<%= exp._id %>?_method=DELETE" method="POST" onsubmit="return confirm('Delete this experience?');">
                            <button type="submit" class="btn btn-danger" style="width: 100%;">Delete</button>
                        </form>
                    </div>
                <% }) %>
            </div>
        </div>
    </div>
</body>
</html>
